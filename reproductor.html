
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor - OffsideTV</title>
    <link rel="stylesheet" href="styless.css">
    <link rel="icon" href="https://raw.githubusercontent.com/OffsideTV/logosweb/main/logopestaña2-.webp" type="image/webp">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- SweetAlert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PS1PQ89GCR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-PS1PQ89GCR');
    </script>
</head>

<body>
    <header>
        <a href="index.html">
            <img src="https://cdn.jsdelivr.net/gh/OffsideTV/logosweb@main/logotvoriginal-.webp" alt="OffsideTV Logo" class="logo">
        </a>
        <button id="chanels" class="donate-button">Canales y agenda</button>
        <button id="reportButton" class="report-button">
            Reportar fallos
        </button>
        <button id="donateButton" class="donate-button">Dejar una donación</button>
    </header>
    <div class="container">
        <h2>Reproduciendo contenido</h2>
    
        <!-- Contenedor del video arriba -->
        <div class="video-section">
            <!-- Contenedor para el iframe -->
            <div id="video-container">
                <iframe id="video-iframe" src="" frameborder="0" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; clipboard-write" allowfullscreen></iframe>
                
                <!-- Botón de pantalla completa -->
                <button id="fullscreen-btn" class="fullscreen-button" title="Pantalla completa">
                    <i class="fas fa-expand"></i>
                </button>
                
                <!-- Elementos de error, ocultos por defecto -->
                <div id="error-message" style="display: none;">
                    <p>Este archivo de video no se puede reproducir (Error 102630).</p>
                </div>
                <div id="fallback-link" style="display: none;">
                    <p>Intenta verlo directamente aquí:</p>
                    <a id="fallback-url" href="#" target="_blank">Ver video</a>
                </div>
            </div>
            <!-- Selector de opciones de canal -->
            <div id="source-selector" class="source-selector" style="display:none;">
                <span class="source-label">Opciones:</span>
                <div id="source-options" class="source-options"></div>
            </div>
        </div>

        <!-- Sección de información debajo del video en tres columnas -->
        <div class="info-section">
            <div class="info-grid">
                <!-- Información 1: Opciones PC -->
                <div class="info-card">
                    <div class="info-header">
                        <i class="fas fa-desktop"></i>
                        <h3>Opciones Exclusivas PC</h3>
                    </div>
                    <div class="info-content">
                        <p>Las opciones marcadas con <span class="pc-badge">PC</span> son exclusivas de la <strong>extensión M3U8</strong> y solo funcionan en computadoras.</p>
                        <a href="https://chromewebstore.google.com/detail/opmeopcambhfimffbomjgemehjkbbmji?utm_source=item-share-cb" 
                           class="extension-link" target="_blank">
                            <i class="fas fa-download"></i> Instalar Extensión
                        </a>
                    </div>
                </div>

                <!-- Información 2: DNS -->
                <div class="info-card">
                    <div class="info-header">
                        <i class="fas fa-shield-alt"></i>
                        <h3>DNS Recomendado</h3>
                    </div>
                    <div class="info-content">
                        <p>Para evitar bloqueos de algunos proveedores de internet, te recomendamos usar el DNS <strong>1.1.1.1</strong> de Cloudflare.</p>
                        <div class="dns-info">
                            <span class="dns-ip">1.1.1.1</span>
                            <span class="dns-provider">Cloudflare</span>
                        </div>
                        <a href="https://1.1.1.1/" class="dns-link" target="_blank">
                            <i class="fas fa-external-link-alt"></i> Configurar DNS
                        </a>
                    </div>
                </div>

                <!-- Información 3: Nota importante -->
                <div class="info-card">
                    <div class="info-header">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Nota Importante</h3>
                    </div>
                    <div class="info-content">
                        <p>Algunos canales pueden estar bloqueados por tu proveedor de internet. La extensión y el DNS recomendado te ayudarán a acceder a más contenido.</p>
                        <div class="warning-box">
                            <i class="fas fa-info-circle"></i>
                            <span>Usa la extensión para mejor compatibilidad</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Mapa de streams
            const streams = {
              "espn-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=RVNQTjJIRA",
                    "sandbox": true
                },

                "espn-ext1": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=RVNQTjJIRA",
                    "sandbox": true
                },
                "espntv": {
                    "repro1": "https://offsidetv.netlify.app/canalesparatodos.html?get=RVNQTjJIRA",
                    "sandbox": true
                },

                "espn": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RVNQTjJIRA&start=true",
                    "sandbox": true
                },
                "espn-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn"
                },
                "espn-c": {
                    "repro1": "https://la14hd.com/vivo/canales.php?stream=espn"
                },

                "espn-d": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=ESPN_HD",
                    "sandbox": true
                },

                "espna-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RVNQTjJIRA",
                     "sandbox": true
                },


                "espn2": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RVNQTjJfQXJn&lang=1",
                    "sandbox": true
                },

                "espn2tv": {
                    "repro1": "https://offsidetv.netlify.app/canalesparatodos.html?get=RVNQTjJfQXJn",
                    "sandbox": true
                },

                "espn2-a": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=ESPN_2_HD",
                    "sandbox": true
                },

                "espn2-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn2"
                },
                "espn2-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn2"
                },
              "espn2-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=RVNQTjJfQXJn&lang=1",
                    "sandbox": true
                },
                    "espn2-pc": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RVNQTjJfQXJn&lang=1",
                    "sandbox": true
                },

                

               "espn3": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RVNQTjM&lang=1",
                    "sandbox": true
                },
                "espn3tv": {
                    "repro1": "https://offsidetv.netlify.app/canalesparatodos.html?get=RVNQTjM",
                    "sandbox": true
                },
                "espn3-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn3"
                },
                "espn3-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn3"
                },
                  "espn3-cc": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=ESPN_3_HD",
                    "sandbox": true
                },
                
               "espn3-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RVNQTjM&lang=1",
                    "sandbox": true
                },


                "espn4": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RVNQTkhE&lang=1",
                    "sandbox": true
                },

                "espn4-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn4"
                },
                "espn4-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn4"
                },
                "espn4-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RVNQTkhE&lang=1",
                    "sandbox": true
                },
                   "espn4-f": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=ESPN_4_HD",
                    "sandbox": true
                },
                "espn5": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RVNQTjQ=&start=true",
                    "sandbox": true
                },
                "espn5-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn5"
                },
                "espn5-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn5"
                },
                
                "espn5-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RVNQTjQ=",
                    "sandbox": true
                },

                "espn6": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94U3BvcnRzM19VWQ%3D%3D&start=true",
                    "sandbox": true
                },
                "espn6-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn6"
                },
                "espn6-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn6"
                },
                  "espn6-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=Rm94U3BvcnRzM19VWQ%3D%3D&start=true",
                    "sandbox": true
                },


               "espn7": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94U3BvcnRzMl9VWQ==&start=true",
                    "sandbox": true
                },
                "espn7-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn7"
                },
                "espn7-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=espn7"
                },
                "espn7-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=Rm94U3BvcnRzMl9VWQ==",
                    "sandbox": true
                },


               "espnpremium": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94X1Nwb3J0c19QcmVtaXVuX0hE&start=true",
                    "sandbox": true
                },
               
                "espnpremiumext-a": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=Rm94X1Nwb3J0c19QcmVtaXVuX0hE",
                    "sandbox": true
                },

                "espnpremiumext-b": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=Rm94U3BvcnRzX1ByZW1pdW1fSEQ", //funciona
                    "sandbox": true
                },

                "espnpremium-b": {
                    "repro1": "https://streamtp22.com//global1.php?stream=espnpremium"
                },
                "espnpremium-c": {
                    "repro1": "https://la14hd.com/vivo/canal.php?stream=espnpremium"
                },

                 "espnpremium-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=Rm94X1Nwb3J0c19QcmVtaXVuX0hE",
                    "sandbox": true
                },

                 "espnpremium-d": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=ESPN_PREMIUM",
                     "sandbox": true
                },

                "espnpremium-e": {
                    "repro1": "https://bestleague.world/mpdk/?get=aHR0cHM6Ly9jZG4udHJpbWkuY29tLmFyL2xpdmUvc20tbGl2ZS9FU1BOX1BSRU1fQktQNC9zYV9saXZlX2Rhc2hfbGwvRVNQTl9QUkVNX0JLUDQubXBk&key=M2I2ZmE2NTI0ZDI1NGM5NmI1YTEwMWM4MTE4ZDNhZTY=&key2=ZDVlMmE5ZDNlMmM1YWE4NTg3ZWFkYTI4MWFjZWY2YmM=",
                     "sandbox": true
                },

                "espnpremium-desktop": {
                    "repro1": "https://tvlibre.cc/pc/ext/?r=https%3A%2F%2Fsupercanal-cdn2.tbxdrm.com%2Fespnpremium%2Fmanifest.mpd%3Fck%3DeyI5NGM5ZTRkMjJiN2Y1OTAwODEwMDU0MDM5NWFiNjA3MSI6ImM4NTY3OTY2N2UyNDdkNGNmOWFlMDdjZGQ1YjY0NjU1IiwKIjgwZGJiNzcxNGViNDViMzU4OGQzYzM1MDRmYzU0NDA3IjoiOGFhZjc3ZWQzNzRlMDEyODNjNWY5ZWVkNWZjMGIwZTUiLAoiZDY5YWI4ZmM3ODRmNTEzNjg2YTEyMWI2OWYwODViNWMiOiI5NDVjZmU2MWU0YzJjN2JjNDkwZDZjNzUzZWRjYTU1NyJ9%26%26headers%3DeyJvcmlnaW4iOiJodHRwczovL3d3dy5taW8udHYiLCJyZWZlcmVyIjoiaHR0cHM6Ly93d3cubWlvLnR2LyJ9",
                     "sandbox": true
                },

                "espnpremium-pc": {
                    "repro1": "https://pelotalibrepe.com/domain.php?id=ESPNPREX",
                     "sandbox": true
                },


                 "tntsports": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=VE5UX1Nwb3J0c19IRA&start=true",
                    "sandbox": true
                },

                "tntsportsext-a": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=VE5UX1Nwb3J0c19IRA",
                    "sandbox": true
                },

                "tntsportsext-b": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=VE5UX1Nwb3J0c19IRA==", 
                    "sandbox": true
                },

                "tntsports-c": {
                    "repro1": "https://streamtp22.com//global1.php?stream=tntsports"
                },
                "tntsports-d": {
                    "repro1": "https://la14hd.com/vivo/canal.php?stream=tntsports"
                },
              
                 "tntpp-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=VE5UX1Nwb3J0c19IRA",
                    "sandbox": true
                },


                   "tntsports-f": {
                    "repro1": "https://offsidetv.netlify.app/anbalancer.html?id=TNT_Sports_HD",
                     "sandbox": true
                },

                  "tntsports-e": {
                    "repro1": "https://bestleague.world/mpdk/?get=aHR0cHM6Ly9jZG4udHJpbWkuY29tLmFyL2xpdmUvc20tbGl2ZS9UTlRfU1BPUlRTX0JLUDQvc2FfbGl2ZV9kYXNoX2xsL1ROVF9TUE9SVFNfQktQNC5tcGQ=&key=NGM3OWEyN2Y0NmY0NGJmYmI3NzRiOGM3ZjFmMWU1N2Y=&key2=NTMwZmQwY2JhOWRjNTU2YTMzOWIwM2FmNGIwOTUxYjk=",
                     "sandbox": true
                },

                "tntsports-pc": {
                    "repro1": "https://tvlibre.cc/pc/ext/?r=https%3A%2F%2Fsupercanal-cdn2.tbxdrm.com%2Ftntsports%2Fmanifest.mpd%3Fck%3DeyIzMmE2NzZlMjhhMzM1OTBiOTRhNmU0OThhZDgzYjQ4NiI6ImU3NGQzYTQ5MGU4MzAzNWJhNGZiNjJkOTBmNzhkMzBhIiwKIjZmYzQ2MTUyZjVmOTVmYmQ5YjVjZDg2Y2E3MGVjOGNjIjoiOTIxNWMzMTQ0ZWY4ODQxM2Y4NTgxOTZkOWI3OTE5OGYiLAoiMjA5NzdjMjIzN2UzNTExNzkzY2I3MzFjNDFmNTEzYWQiOiJlNmZhOGYyN2I1MTBiZWYxNmQwYzZjMGM0M2ViMTEyZSJ9%26headers%3DeyJvcmlnaW4iOiJodHRwczovL3d3dy5taW8udHYiLCJyZWZlcmVyIjoiaHR0cHM6Ly93d3cubWlvLnR2LyJ9",
                    "sandbox": true
                },





             
                  "fox1ar-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=Rm94U3BvcnRz&lang=1",
                    "sandbox": true
                },
                  "fox1ar-ext2": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=Rm94U3BvcnRz&lang=1",
                    "sandbox": true
                },
                "fox1ar-pc": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=Rm94U3BvcnRz&lang=1",
                    "sandbox": true
                },
                "fox1ar": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94U3BvcnRz&lang=1",
                    "sandbox": true
                },
                  "fox1ar-p": {
                    "repro1": "https://offsidetv.netlify.app/premiumcanales.html?id=Fooooo1",
                    "sandbox": true
                },
                  "fox1ar-cc": {
                    "repro1": "https://bestleague.one/mpdk/?get=aHR0cHM6Ly9jc2MtYXhzLWVkZ2UwMS5zZW5zYS5jb20uYXIvbGl2ZS9lZHMvRm94U3BvcnRzMS9saXZlX2Rhc2hfY2xkL0ZveFNwb3J0czEubXBk&key=MWE2MWI2NDRmZGM2ODU2OGI1YmUzZTI2MjkwNDE1NjQ=&key2=YTE2NzJjZGZiNWRlNjQ3MDcxNTExMjhmODExZGE2Njc=",
                    "sandbox": true
                },


                "fox1ar-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=fox1ar"
                },
                "fox1ar-c": {
                    "repro1": "https://la14hd.com/vivo/canales.php?stream=foxsports"
                },
                
                "fox-mx": {
                    "repro1": "https://streamtp11.com/global1.php?stream=foxsportsmx",
                
                },

                 "fox-deportes": {
                    "repro1": "https://streamtp11.com/global1.php?stream=fox_deportes_usa",
                
                },

               "fox2ar-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=Rm94U3BvcnRzMkhE&lang=1",
                    "sandbox": true
                },

                "fox2ar": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94U3BvcnRzMkhE&lang=1",
                    "sandbox": true
                },

                "fox2ar-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=fox2ar"
                },
                "fox2ar-c": {
                    "repro1": "https://la14hd.com/vivo/canales.php?stream=foxsports2"
                },
                 "fox2ar-cc": {
                    "repro1": "https://offsidetv.netlify.app/premiumcanales.html?id=Fooooo2",
                    "sandbox": true
                },

                "fox3ar-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=Rm94U3BvcnRzM0hE&lang=1",
                    "sandbox": true
                },
                "fox3ar-a": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Rm94U3BvcnRzM0hE&lang=1",
                    "sandbox": true
                },
                "fox3ar-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=fox3ar"
                },
                "fox3-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=foxsports3"
                },
                


                "dsports": {
                    "repro1": "https://elcanaldeportivo.com/directvsports.php"
                },
                "dsports-d": {
                    "repro1": "https://streamtp22.com//global1.php?stream=dsports"
                },
                "dsports-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=dsports"
                },

                "dsports-b": {
                    "repro1": "https://elcanaldeportivo.com/dsports-sharecast.php",
                  
                },
                  "ds-a": {
                    "repro1": "https://bestleague.one/cvatt.html?get=RXZlbnRvc19IRF9VeQ==",
                    "sandbox": true
                  
                },
                  "dsports-ext": {
                    "repro1": "https://tvlibreonline.org/flow/ev.html?get=RXZlbnRvc19IRF9VeQ==",
                    "sandbox": true
                  
                },
                  "dsports-ext1": {
                    "repro1": "https://bestleague.one/tok.html?get=RXZlbnRvc19IRF9VeQ==",
                    "sandbox": true
                  
                },

                "dsports2": {
                    "repro1": "https://streamtp11.com//global1.php?stream=dsports2"
                },
               
                "dsports2-b": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=dsports2"
                },

                "dsports2-c": {
                    "repro1": "https://elcanaldeportivo.com/dsports2.php",
                    
                },
                "dsports2-d": {
                    "repro1": "https://hugerelease.net/embed/m4ryw369h1te",
                    
                },

                "dsportsplus": {
                    "repro1": "https://elcanaldeportivo.com/directvplushd.php"
                },
                "dsportsplus-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=dsportsplus"
                },
                "dsportsplus-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=dsportsplus"
                },

                
                 "dsportsarg": {
                    "repro1": "https://welivesport.shop/embed/directvarg.php",
                 
                    
                },
              
                  "tycsports": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=VHlDU3BvcnQ&start=true",
                    "sandbox": true
                },
        
                "tycsports-c": {
                    "repro1": "https://streamtp11.com//global1.php?stream=tycsports"
                },
                  "tycsports-d": {
                    "repro1": "https://la14hd.com/vivo/canales.php?stream=tycsports"
                },

                "tycsports-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=VHlDU3BvcnQ",
                    "sandbox": true
                },

                  "tycsports-pc": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=VHlDU3BvcnQ",
                    "sandbox": true
                },

                  "tycsports-desktop": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=VHlDU3BvcnQ",
                    "sandbox": true
                },

                "tyc": {
                    "repro1": "https://offsidetv.netlify.app/premiumcanales.html?id=TYCSports",
                    "sandbox": true
                },


                "tycplay": {
                    "repro1": "https://dtvlivegratis.com/cn.php?id=TYCPLAY",
                    "sandbox": true
              
                },
               
                "tycint-a": {
                    "repro1": "https://la14hd.com/vivo/canales.php?stream=tycinternacional"
                },


              "telefe": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=VGVsZWZlSEQ=",
                    "sandbox": true
                },
                 "telefe4": {
                    "repro1": "https://offsidetv.netlify.app/canalesparatodos.html?get=VGVsZWZlSEQ=",
                    "sandbox": true
                },
                 "telefe2": {
                    "repro1": "https://offsidetv.netlify.app/telefeapi.html",
                    "sandbox": true
                },
                     "telefe3": {
                    "repro1": "https://tvlibre.cc/en-vivo/telefe/hl.html",
                    "sandbox": true
                },

                "telefe-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=telefe"
                },
                "telefe-c": {
                    "repro1": "https://la14hd.com/vivo/canal.php?stream=telefe"
                },
                "telefe-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=VGVsZWZlSEQ=",
                    "sandbox": true
                },
                 "telefe-pc": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=VGVsZWZlSEQ=",
                    "sandbox": true
                },
                "telefe2-pc": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=VGVsZWZlSEQ=",
                    "sandbox": true
                },
              
                "telefe-e": {
                    "repro1": "https://offsidetv.netlify.app/dash.html?get=aHR0cHM6Ly90ZWxlZmV2aWFjb20xLmFrYW1haXplZC5uZXQvaGxzL2xpdmUvMjAzNzk4Ny92aWFjb21JTlQvVE9LL21hc3Rlci13aWxkMS5tM3U4",
                    "sandbox": true
                },

              


                "tvpublica": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=Q2FuYWw3&lang=1",
                    "sandbox": true
                },
                "tvpublica-b": {
                    "repro1": "https://streamtp11.com//global1.php?stream=tv_publica"
                },
                "tvpublica-c": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=tvpublica"
                },
                "tvpublica-d": {
                    "repro1": "https://embed.sdfgnksbounce.com/embed2/tvpublica.html",
                    "sandbox": true
                },
                "tvpublica-ext": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=Q2FuYWw3&lang=1",
                    "sandbox": true
                },

                 "disney": {
                    "repro1": "https://voodc.com/embed/85818b9a9f8b9e86847a85989d879885887b.html"
                },
                "disney1": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney1"
                },
                "disney2": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney2"
                },

                "disney3": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney3"
                },
                
                "disney4": {
                    "repro1": "https://streamtp22.com//global1.php?stream=disney4"
                },
                
                "disney5": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney5"
                },
                
                "disney6": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney6"
                },
                
                "disney7": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney7"
                },
                
                "disney8": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney8"
                },
                
                "disney9": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney9"
                },
                
                "disney10": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney10"
                },
               
                "disney11": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney11"
                },
                
                "disney12": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney12"
                },
               
                "disney13": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney13"
                },
                
                "disney14": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney14"
                },
               
                "disney15": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney15"
                },
               
                "disney16": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney16"
                },
                
                "disney17": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney17"
                },
                
                "disney18": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney18"
                },
                
                "disney19": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney19"
                },
               
                "disney20": {
                    "repro1": "https://streamtp11.com//global1.php?stream=disney20"
                },
                


                "mls1": {
                    "repro1": "https://streamtp11.com//global1.php?stream=mls1es"
                },
                  "mls": {
                    "repro1": "https://elcanaldeportivo.com/mlspass.php"
                },
                "mls2": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls2"
                },
                "mls3": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls3"
                },
                "mls4": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls4"
                },
                "mls5": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls5"
                },
                "mls6": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls6"
                },
                "mls7": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls7"
                },
                "mls8": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls8"
                },
                "mls9": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls9"
                },
                "mls10": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=mls10"
                },
               
                "premiere1-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere1"
                },
                "premiere1-b": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=premiere"
                },
                "premiere2-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere2"
                },
                "premiere2-b": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=premiere2"
                },
                "premiere3-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere3"
                },
                "premiere3-b": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=premiere3"
                },
                "premiere4-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere4"
                },
                "premiere4-b": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=premiere4"
                },
                "premiere5-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere5"
                },
                "premiere6-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere6"
                },
                "premiere7-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere7"
                },
                "premiere8-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=premiere8"
                },
                "sportv1-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=sportv"
                },
                "sportv2-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=sportv2"
                },
                "sportv3-a": {
                    "repro1": "https://la12hd.com/vivo/canal.php?stream=sportv3"
                },
                "sportv4-a": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=sportv4"
                },
                "sportv5-a": {
                    "repro1": "https://streamsvv1.su/global/player.php?channel=sportv5"
                },

               
                
                "espndepor": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espndeportes"
                },
                
                "espnplus": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espnplus8"
                },
                
                "eventos5": {
                    "repro1": "https://streamtp11.com//global1.php?stream=eventos5"
                },
                "movistar": {
                    "repro1": "https://streamtp11.com//global1.php?stream=movistar_deportes_peru"
                },
            

               "flow1": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RXZlbnRvczFIRA&lang=1",
                    "sandbox": true
                },

            
                "flow1-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RXZlbnRvczFIRA&lang=1",
                    "sandbox": true
                },

                "flow1-pc": {
                    "repro1": "https://offsidetv.netlify.app/cvatt_ext.html?get=RXZlbnRvczFIRA&lang=1",
                    "sandbox": true
                },
                "flow1-desktop": {
                    "repro1": "https://offsidetv.netlify.app/futcvatt.html?get=RXZlbnRvczFIRA&lang=1",
                    "sandbox": true
                },

                
                "flow2": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RXZlbnRvc18yX0hE",
                    "sandbox": true
                },
                 "flow2-pc": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=RXZlbnRvc18yX0hE",
                    "sandbox": true
                },

                
                "flow3": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=RXZlbnRvczFIRA&lang=1",
                    "sandbox": true
                },

                "tnt-hd": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=VE5UX0hEX0FyZw==&lang=1",
                    "sandbox": true
                },
                "tnt-hd-ext": {
                    "repro1": "https://offsidetv.netlify.app/transmi.html?get=VE5UX0hEX0FyZw==&lang=1",
                    "sandbox": true
                },
               
                "video-explicativo": {
                    "repro1": "https://streamable.com/e/odpi5t?autoplay=0",
                },

             
        
            
                "caracoltv": {
                    "repro1": "https://streamtp11.com//global1.php?stream=caracoltv",
                },

                 "golperu": {
                    "repro1": "https://streamtp11.com//global1.php?stream=golperu",
                },
            
               
                "disneypc": {
                    "repro1": "https://offsidetv.netlify.app/disney.html?get=stream",
                    "sandbox": true
                },
                
                "evento2": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO2",
                    "sandbox": true
                },
            
                "evento3": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO3",
                    "sandbox": true
                },
            
                "evento4": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO4",
                    "sandbox": true
                },
      
                "evento5": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO5",
                    "sandbox": true
                },
              
                "evento6": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO6",
                    "sandbox": true
                },
              
                "evento7": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO7",
                    "sandbox": true
                },
                 "evento8": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO8",
                    "sandbox": true
                },
                 "evento9": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO9",
                    "sandbox": true
                },
                 "evento10": {
                    "repro1": "https://tvlibreonline.org/pc.html?get=EVENTO10",
                    "sandbox": true
                },

           
                    "mls2": {
                    "repro1": "https://embedsports.top/embed/admin/admin-inter-miami-vs-pumas/1",
                      "sandbox": true   
        
                },
                    "eltrece": {
                    "repro1": "https://offsidetv.netlify.app/canalesparatodos.html?get=QXJ0ZWFySEQ",
                    "sandbox": true
                },
                  "eltrece2": {
                    "repro1": "https://offsidetv.netlify.app/cvatt.html?get=QXJ0ZWFySEQ",
                    "sandbox": true
                },
               
                  "especial": {
                    "repro1": "https://tutvlive.xyz/mpd/tvfhd.php?sTL3?id=558",
                     
                },
                  "especial1": {
                    "repro1": "https://tutvlive.xyz/mpd/tvfhd.php?sTL3?id=845",
                     
                },
                "mlsen": {
                    "repro1": "https://voodc.com/embed/85818b9aa289998a847a85969c9098898981.html",
                     
                },
                 "espn-sud": {
                    "repro1": "https://streamtp11.com//global1.php?stream=espn",
                     
                },
               "prueba-canales": {
                    "repro1": " ",
                    "sandbox": true


                     
                },
            };
            // Definición manual de grupos de opciones por canal (sin cambiar claves existentes)
            const channelGroups = {
              "espn": ["espn", "espntv", "espn-d","espn-b", "espn-c", "espn-ext", "espn-ext1", "espna-ext"],
                "espn2": ["espn2", "espn2tv", "espn2-a", "espn2-b", "espn2-c", "espn2-ext", "espn2-pc"],
                "espn3": ["espn3", "espn3tv" ,"espn3-cc", "espn3-b", "espn3-c", "espn3-ext"],
                "espn4": ["espn4", "espn4-f","espn4-b", "espn4-c", "espn4-ext"],
                "espn5": ["espn5", "espn5-b", "espn5-c", "espn5-ext"],
                "espn6": ["espn6", "espn6-b", "espn6-c", "espn6-ext"],
                "espn7": ["espn7", "espn7-b", "espn7-c", "espn7-ext"],
                
               "espnpremium": ["espnpremium", "espnpremium-d","espnpremium-e","espnpremium-b","espnpremium-c","espnpremiumext-a", "espnpremium-desktop","espnpremiumext-b","espnpremium-ext","espnpremium-pc"],
               "tntsports": ["tntsports","tntsports-f","tntsports-e", "tntsports-c", "tntsports-d","tntsportsext-a", "tntsports-pc","tntsportsext-b", "tntpp-ext"],
               "fox1ar": ["fox1ar", "fox1ar-p","fox1ar-cc", "fox1ar-b", "fox1ar-c", "fox1ar-ext", "fox1ar-ext2","fox1ar-pc"],
               "fox2ar": ["fox2ar", "fox2ar-cc","fox2ar-b", "fox2ar-c", "fox2ar-ext"],
                "fox3ar": ["fox3ar", "fox3ar-b", "fox3-c", "fox3ar-ext"],
                "tvpublica": ["tvpublica", "tvpublica-b", "tvpublica-c", "tvpublica-d", "tvpublica-ext"],
                "dsports": ["dsports", "dsports-b", "dsports-c", "dsports-d"],
                "dsports2": ["dsports2", "dsports2-b", "dsports2-c", "dsports2-d"],
                "dsportsplus": ["dsportsplus", "dsportsplus-b", "dsportsplus-c", "dsportsplus-d"],
                 "telefe": ["telefe", "telefe4","telefe2", "telefe3", "telefe-d","telefe-b", "telefe-c", "telefe-ext","telefe-pc", "telefe2-pc"],
                "vtvplus": ["VTVPlus", "VTVPlus-a", "VTVPlus-ext"],
                "tycsports": ["tycsports", "tyc", "tycsports-c", "tycsports-d", "tycsports-ext", "tycsports-pc", "tycsports-desktop"],
                "flow": ["flow1","flow1-ext"],
                "flow2": ["flow2", "flow2-pc"],
                "MLSSeasonPass": ["mlsen","mls1", "mls"],
                "TNTHD": ["tnt-hd", "tnt-hd-ext"],
                "eltrece": ["eltrece", "eltrece2"],
    

                
                
            };


      // Obtener parámetros de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const channel = urlParams.get("ch");
    const group = urlParams.get("multi");
    const getParam = urlParams.get("get");
    const iframe = document.getElementById("video-iframe");
    const errorMessage = document.getElementById("error-message");
    const fallbackLink = document.getElementById("fallback-link");
    const fallbackUrl = document.getElementById("fallback-url");
    const sourceSelector = document.getElementById("source-selector");
    const sourceOptions = document.getElementById("source-options");

    // Verificación de elementos
    if (!iframe || !errorMessage || !fallbackLink || !fallbackUrl) {
        console.error("Uno o más elementos del DOM no se encontraron.");
        return;
    }

    // Utilidad: obtener base del canal (prefijo antes de -a, -b, ...)
    function getBaseFromChannelKey(key) {
        const match = key && key.match(/^(.+)-([a-z])$/);
        return match ? match[1] : null;
    }

    // Construir links de opciones (1, 2, 3, ...) a partir de una lista explícita
    function buildSelectorFromList(optionKeys, currentChannelKey, groupKey) {
        const keys = (optionKeys || []).filter(k => streams[k]);
        if (!keys.length) {
            if (sourceSelector) sourceSelector.style.display = "none";
            return;
        }
        if (sourceOptions) sourceOptions.innerHTML = "";
        keys.forEach((k, idx) => {
            const a = document.createElement("a");
            const baseUrl = new URL(window.location.href);
            baseUrl.searchParams.set("ch", k);
            // Detectar si es variante para PC (ext, pc, desktop en distintas posiciones)
            const kl = String(k).toLowerCase();
            const isPc = (
                kl.includes('-ext') || kl.includes('ext-') ||
                kl.endsWith('-pc') || kl.includes('-pc-') || kl.startsWith('pc-') ||
                kl.endsWith('-desktop') || kl.includes('-desktop-') || kl.startsWith('desktop-')
            );
            // Siempre a reproductor.html
            if (groupKey) baseUrl.searchParams.set("multi", groupKey); else baseUrl.searchParams.delete("multi");
            baseUrl.searchParams.delete("get");
            a.href = "reproductor.html?" + baseUrl.searchParams.toString();

            // Clases
            const classes = ["source-option"];
            if (k === currentChannelKey) classes.push("active");
            if (isPc) classes.push("pc");
            a.className = classes.join(" ");

            a.textContent = String(idx + 1);
            a.title = `Opción ${idx + 1}${isPc ? ' (PC)' : ''}`;
            sourceOptions.appendChild(a);
        });
        if (sourceSelector) sourceSelector.style.display = "flex";
    }

    // Fallback: construir selector por sufijos -a, -b, -c si no hay grupo definido
    function buildSelectorBySuffix(currentChannelKey) {
        const base = getBaseFromChannelKey(currentChannelKey);
        if (!base) {
            if (sourceSelector) sourceSelector.style.display = "none";
            return;
        }
        const variantKeys = Object.keys(streams)
            .filter(k => k.startsWith(base + "-") && /^[a-z]$/.test(k.split("-").pop()))
            .sort((a, b) => a.split("-").pop().localeCompare(b.split("-").pop()));
        buildSelectorFromList(variantKeys, currentChannelKey, null);
    }

    function findGroupForChannelKey(key) {
        for (const [g, list] of Object.entries(channelGroups)) {
            if (list.includes(key)) return g;
        }
        return null;
    }

    function isOffsideCvattUrl(urlString) {
        try {
            const u = new URL(urlString);
            return (
                u.hostname === "offsidetv.netlify.app" &&
                (/cvatt/.test(u.pathname))
            );
        } catch (e) {
            return false;
        }
    }

    function loadChannel(chKey) {
        const url = streams[chKey]["repro1"];
        iframe.setAttribute("src", url);
        const shouldSandbox = streams[chKey].sandbox && !isOffsideCvattUrl(url);
        if (shouldSandbox) {
            iframe.setAttribute(
                "sandbox",
                "allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"
            );
        } else {
            iframe.removeAttribute("sandbox");
        }
    }

    // Manejar el canal o el parámetro get
    let streamUrl = "";
    if (group && channelGroups[group]) {
        // Abrir por grupo (multi): usar ch si es válido o el primero disponible
        const groupList = channelGroups[group].filter(k => streams[k]);
        const initialKey = (channel && groupList.includes(channel)) ? channel : groupList[0];
        if (!initialKey) {
            document.getElementById("video-container").innerHTML = '<p>Grupo sin opciones disponibles.</p>';
            if (sourceSelector) sourceSelector.style.display = "none";
            return;
        }
        loadChannel(initialKey);
        buildSelectorFromList(groupList, initialKey, group);
    } else if (channel && streams[channel]) {
        loadChannel(channel);
        // Si pertenece a un grupo, mostrar todas las opciones de ese grupo; si no, fallback por sufijos
        const inferredGroup = findGroupForChannelKey(channel);
        if (inferredGroup) {
            const list = (channelGroups[inferredGroup] || []).filter(k => streams[k]);
            buildSelectorFromList(list, channel, inferredGroup);
        } else {
            buildSelectorBySuffix(channel);
        }
    } else if (getParam) {
        let externalUrl = `https://nebunexa.co/cvatt.php?get=${getParam}`;
        if (getParam === "Rm94X1Nwb3J0c19QcmVtaXVuX0hE") {
            externalUrl = `https://nebunexa.co/cvatt2.php?get=${getParam}&start=true`;
        } else if (["RVNQTjJIRA", "RVNQTjJfQXJn", "RVNQTjM", "RVNQTkhE", "Rm94U3BvcnRzMl9VWQ==", "RXZlbnRvczFIRA"].includes(getParam)) {
            externalUrl = `https://nebunexa.co/temp.html?get=${getParam}${urlParams.get("lang") ? "&lang=" + urlParams.get("lang") : ""}`;
        }
        streamUrl = externalUrl;
        iframe.setAttribute("src", streamUrl);
        // No sandbox si es offsidetv.netlify.app/cvatt*. Permisos ampliados para otros orígenes.
        if (isOffsideCvattUrl(streamUrl)) {
            iframe.removeAttribute("sandbox");
        } else {
            iframe.setAttribute(
                "sandbox",
                "allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"
            );
        }
        fallbackUrl.href = externalUrl;
        fallbackUrl.textContent = externalUrl;
        // Ocultar selector en modo get
        if (sourceSelector) sourceSelector.style.display = "none";
    } else {
        document.getElementById("video-container").innerHTML = '<p>Canal no disponible o desactivado.</p>';
        return;
    }

    // Mostrar mensaje de error y enlace de fallback si el iframe no carga
    iframe.onerror = function () {
        if (errorMessage && fallbackLink && fallbackUrl) {
            errorMessage.style.display = "block";
            fallbackLink.style.display = "block";
        } else {
            console.error("Elementos de error o fallback no disponibles.");
        }
    };

    // Verificación adicional tras cargar el iframe
    iframe.onload = function () {
        if (iframe.contentDocument && iframe.contentDocument.body.textContent.includes("no se puede reproducir")) {
            if (errorMessage && fallbackLink && fallbackUrl) {
                errorMessage.style.display = "block";
                fallbackLink.style.display = "block";
            }
        }
    };

           
        });
    </script>

    <div class="dmca-button-container">
        <button id="dmcaButton">DMCA</button>
        <div id="dmcaText" class="dmca-text">
            <h2>Cumplimiento del DMCA</h2>
            <p><strong>Este sitio web cumple con el Digital Millennium Copyright Act (DMCA).</strong> No transmitimos ni alojamos de manera ilegal ningún juego, canal, evento u otro contenido protegido por derechos de autor.</p>
            
            <h2>Descargo de Responsabilidad</h2>
            <p><strong>Este sitio web opera de acuerdo con el Digital Millennium Copyright Act (DMCA).</strong> En virtud de esta ley, nos comprometemos a responder rápidamente a las reclamaciones de violación de derechos de autor y a tomar las medidas necesarias para eliminar el material infractor.</p>
            <p><strong>Los enlaces proporcionados en este sitio web apuntan a contenido alojado en servidores externos</strong> y no alojamos ni transmitimos de manera directa ningún material protegido por derechos de autor. No tenemos control sobre el contenido de estos servidores externos y no nos hacemos responsables por el uso indebido que se pueda hacer de dicho contenido.</p>
            
            <h2>Compromiso con los Derechos de Autor</h2>
            <p><strong>Entendemos la importancia de proteger los derechos de autor</strong> y estamos comprometidos a cumplir con todas las leyes aplicables. Si eres propietario de los derechos de autor de algún contenido y crees que se ha utilizado de manera inapropiada, te instamos a que nos contactes de inmediato para que podamos abordar el problema de manera efectiva.</p>
            <p><strong>Además del DMCA, este sitio web también se adhiere a otras leyes y regulaciones relacionadas con la propiedad intelectual y la protección de derechos de autor.</strong> Nos reservamos el derecho de modificar o eliminar cualquier enlace o contenido que infrinja estas leyes.</p>
            
            <h2>Contacto</h2>
            <p><strong>Correo electrónico:</strong> <a href="mailto:offsidetve@gmail.com">offsideteve@gmail.com</a></p>
        </div>
    </div>

    <!-- Botón de compartir con imagen redonda -->
    <div class="share-button-container">
        <button id="shareButton" class="share-button">
            <img src="https://cdn.jsdelivr.net/gh/OffsideTV/logosweb@main/compartir.png" alt="Compartir" class="share-icon">
        </button>
        <div id="shareMenu" class="share-menu">
            <!-- Opción para compartir enlace -->
            <a href="#" class="share-link" id="copyLink">
                <i class="fas fa-link"></i> Compartir canal
            </a>
            <!-- Opción para generar QR -->
            <a href="#" class="share-link" id="shareQR">
                <i class="fas fa-qrcode"></i> Generar QR
            </a>
            <!-- Nueva opción para la extensión -->
            <a href="https://chromewebstore.google.com/detail/opmeopcambhfimffbomjgemehjkbbmji?utm_source=item-share-cb" 
               class="share-link" 
               id="extensionLink" 
               target="_blank">
                <i class="fas fa-puzzle-piece"></i> Extensión M3U8
            </a>
        </div>
    </div>

    <script>
        // Agrega un evento al botón DMCA para mostrar/ocultar el texto y desplazar la página
        document.getElementById('dmcaButton').addEventListener('click', function() {
            const dmcaText = document.getElementById('dmcaText');
            
            // Alternar la visibilidad del texto
            if (dmcaText.style.display === "none" || dmcaText.style.display === "") {
                dmcaText.style.display = "block"; // Cambia a visible
                dmcaText.scrollIntoView({ behavior: 'smooth' }); // Desplaza hacia el div
            } else {
                dmcaText.style.display = "none"; // Oculta el texto
            }
        });

        document.getElementById('donateButton').addEventListener('click', function() {
            window.location.href = 'donaciones.html'; 
        });
       
        document.getElementById('chanels').addEventListener('click', function() {
            window.location.href = 'index.html'; // Redirige a la página de inicio
        });

        document.getElementById("reportButton").addEventListener("click", function() {
            window.location.href = 'fallos.html'; 
        });
    </script>

    <script>
        // Mostrar/ocultar el menú de compartir
        document.getElementById('shareButton').addEventListener('click', function() {
            var shareMenu = document.getElementById('shareMenu');
            shareMenu.classList.toggle('show');
        });

        // Cerrar el menú si se hace clic fuera de él
        window.addEventListener('click', function(event) {
            var shareMenu = document.getElementById('shareMenu');
            var shareButton = document.getElementById('shareButton');
            if (event.target !== shareButton && !shareButton.contains(event.target)) {
                shareMenu.classList.remove('show');
            }
        });

        // Copiar el enlace al portapapeles (compatible con móviles)
        document.getElementById('copyLink').addEventListener('click', function(event) {
            event.preventDefault();
            var url = window.location.href; // Obtiene la URL actual

            // Crea un elemento de texto temporal
            var tempInput = document.createElement('input');
            tempInput.value = url;
            document.body.appendChild(tempInput);

            // Selecciona y copia el texto
            tempInput.select();
            document.execCommand('copy');

            // Elimina el elemento temporal
            document.body.removeChild(tempInput);

            // Muestra un mensaje de confirmación con SweetAlert
            Swal.fire({
                icon: 'success',
                title: '¡Enlace copiado!',
                text: 'El enlace se copio correctamente. ¡Compartilo!',
                confirmButtonText: 'OK'
            });
        });

        document.getElementById('shareQR').addEventListener('click', function(event) {
            event.preventDefault();
            var url = window.location.href;

            // Crear un contenedor para el QR
            var qrContainer = document.createElement('div');
            qrContainer.id = 'qr-code';
            qrContainer.style.textAlign = 'center'; // Centrar el contenido

            // Generar el QR
            new QRCode(qrContainer, {
                text: url,
                width: 200, // Tamaño del QR
                height: 200,
                colorDark: "#000000", // Color del QR (negro)
                colorLight: "#ffffff", // Color de fondo (blanco)
                correctLevel: QRCode.CorrectLevel.H // Nivel de corrección de errores (alto)
            });

            // Mostrar el QR en un modal con SweetAlert
            Swal.fire({
                title: '¡Escanea el QR y compartí el canal!',
                html: qrContainer,
                showCloseButton: true,
                showConfirmButton: false,
                customClass: {
                    popup: 'qr-modal', // Clase CSS personalizada para el modal
                    title: 'qr-title', // Clase CSS para el título
                    htmlContainer: 'qr-html-container' // Clase CSS para el contenido del modal
                }
            });
        });

        // Funcionalidad de pantalla completa
        document.addEventListener("DOMContentLoaded", function() {
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const videoContainer = document.getElementById('video-container');
            const iframe = document.getElementById('video-iframe');

            if (fullscreenBtn && videoContainer) {
                fullscreenBtn.addEventListener('click', function() {
                    if (!document.fullscreenElement) {
                        // Entrar en pantalla completa
                        if (videoContainer.requestFullscreen) {
                            videoContainer.requestFullscreen();
                        } else if (videoContainer.webkitRequestFullscreen) {
                            videoContainer.webkitRequestFullscreen();
                        } else if (videoContainer.msRequestFullscreen) {
                            videoContainer.msRequestFullscreen();
                        }
                    } else {
                        // Salir de pantalla completa
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                        } else if (document.msExitFullscreen) {
                            document.msExitFullscreen();
                        }
                    }
                });

                // Cambiar el ícono cuando cambie el estado de pantalla completa
                document.addEventListener('fullscreenchange', updateFullscreenIcon);
                document.addEventListener('webkitfullscreenchange', updateFullscreenIcon);
                document.addEventListener('msfullscreenchange', updateFullscreenIcon);

                function updateFullscreenIcon() {
                    const icon = fullscreenBtn.querySelector('i');
                    if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                        icon.className = 'fas fa-compress';
                        fullscreenBtn.title = 'Salir de pantalla completa';
                        // Agregar clase al body para ocultar elementos
                        document.body.classList.add('fullscreen-active');
                    } else {
                        icon.className = 'fas fa-expand';
                        fullscreenBtn.title = 'Pantalla completa';
                        // Remover clase del body
                        document.body.classList.remove('fullscreen-active');
                    }
                }

                // Mostrar el botón solo cuando hay contenido reproduciéndose
                function checkIfVideoIsPlaying() {
                    const iframeSrc = iframe.src;
                    if (iframeSrc && iframeSrc.trim() !== '') {
                        fullscreenBtn.style.display = 'block';
                    } else {
                        fullscreenBtn.style.display = 'none';
                    }
                }

                // Variables para controlar la visibilidad del botón en pantalla completa
                let fullscreenButtonTimeout;
                let isFullscreen = false;

                // Función para mostrar temporalmente el botón en pantalla completa
                function showFullscreenButtonTemporarily() {
                    if (isFullscreen) {
                        fullscreenBtn.classList.add('show-temporarily');
                        
                        // Ocultar después de 3 segundos
                        clearTimeout(fullscreenButtonTimeout);
                        fullscreenButtonTimeout = setTimeout(() => {
                            if (isFullscreen) {
                                fullscreenBtn.classList.remove('show-temporarily');
                            }
                        }, 3000);
                    }
                }

                // Detectar movimiento del mouse en pantalla completa
                document.addEventListener('mousemove', function() {
                    if (isFullscreen) {
                        showFullscreenButtonTemporarily();
                    }
                });

                // Detectar eventos del iframe (pausa, play, etc.)
                iframe.addEventListener('load', function() {
                    try {
                        // Intentar acceder al contenido del iframe para detectar eventos
                        const iframeContent = iframe.contentWindow;
                        if (iframeContent) {
                            // Escuchar eventos de teclado que podrían indicar pausa/play
                            iframeContent.addEventListener('keydown', function(e) {
                                if (isFullscreen && (e.code === 'Space' || e.code === 'KeyP')) {
                                    showFullscreenButtonTemporarily();
                                }
                            });
                        }
                    } catch (e) {
                        // Error de CORS - no podemos acceder al contenido del iframe
                        console.log('No se puede acceder al contenido del iframe debido a CORS');
                    }
                });

                // Detectar clics en el iframe (podrían indicar pausa/play)
                iframe.addEventListener('click', function() {
                    if (isFullscreen) {
                        showFullscreenButtonTemporarily();
                    }
                });

                // Detectar teclas de pausa/play en el documento
                document.addEventListener('keydown', function(e) {
                    if (isFullscreen && (e.code === 'Space' || e.code === 'KeyP')) {
                        showFullscreenButtonTemporarily();
                    }
                });

                // Actualizar la función updateFullscreenIcon para manejar el estado
                const originalUpdateFullscreenIcon = updateFullscreenIcon;
                function updateFullscreenIcon() {
                    const icon = fullscreenBtn.querySelector('i');
                    if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                        icon.className = 'fas fa-compress';
                        fullscreenBtn.title = 'Salir de pantalla completa';
                        // Agregar clase al body para ocultar elementos
                        document.body.classList.add('fullscreen-active');
                        isFullscreen = true;
                        // Ocultar el botón después de un breve delay
                        setTimeout(() => {
                            if (isFullscreen) {
                                fullscreenBtn.classList.remove('show-temporarily');
                            }
                        }, 1000);
                    } else {
                        icon.className = 'fas fa-expand';
                        fullscreenBtn.title = 'Pantalla completa';
                        // Remover clase del body
                        document.body.classList.remove('fullscreen-active');
                        isFullscreen = false;
                        // Mostrar el botón normalmente
                        fullscreenBtn.classList.remove('show-temporarily');
                        clearTimeout(fullscreenButtonTimeout);
                    }
                }

                // Verificar cada 2 segundos si hay contenido
                setInterval(checkIfVideoIsPlaying, 2000);
                
                // Verificación inicial
                checkIfVideoIsPlaying();
            }
        });
    </script>
</body>
</html>
